/**AdvancedTextWidget @version v2.2.0 Built: Sat Jul 16 2016 07:56:17 */ 
!function(t){var n='<tr valign="top"><th scrope="row"> <label for="">Name:</label> </th> <td> <input size="30" type="text" id="condition-%id-name" name="atw[condition][%id][name]"/> </td> </tr> <tr valign="top"> <th scrope="row"> <label for="">Code:</label> </th> <td> <input size="60" type="text" id="condition-%id-code" name="atw[condition][%id][code]"/> </td> </tr>',e={ui:{},init:function(){this.setUI(),this.updateStyles(),this.setEvents()},setUI:function(){var n=this;this.ui.formTable=t("table.form-table"),this.ui.addBtn=t("#condition-add-new"),this.ui.formTable.find('input[id$="name"]').each(function(){n.renderDeleteBtn(t(this).parent())})},updateStyles:function(){this.ui.formTable.find("tr").css({background:"#fff",border:"none"}),t(".form-table tr:nth-child(4n+3)").css({background:"#f1f1f1"}),t(".form-table tr:nth-child(4n+4)").css({background:"#f1f1f1","border-bottom":"1px solid #ccc"}),t(".delete-condition-btn").css({position:"absolute",top:"15px",right:"15px"}),this.ui.addBtn.parent().parent().css({background:"white"})},setEvents:function(){var n=this;this.ui.addBtn.on("click",function(){n.addNewCondition(),n.updateStyles()}),t(document).on("click",".delete-condition-btn",function(){var e=t(this).data("conditionId");n.deleteCondition(e)})},getConditionRows:function(){return this.ui.addBtn.parent().parent()},addNewCondition:function(){var e=t(n.replace(/%id/gi,this.createId()));this.getConditionRows().before(e),this.renderDeleteBtn(t(e[0]).find("td"))},deleteCondition:function(n){var e=t('<td colspan="2">Do not forget to SAVE at the bottom of the page.</td>').css({"text-align":"center",background:"#A5F0FF"}),i=this.ui.formTable.find("#condition-"+n+"-name").closest("tr");i.empty().append(e).closest("tr").fadeOut(2e3,function(){t(this.remove())}),this.ui.formTable.find("#condition-"+n+"-code").closest("tr").remove(),this.updateStyles()},renderDeleteBtn:function(n){var e=t('<input type="button" value="Delete" class="delete-condition-btn button">').css({position:"absolute",top:"10px",right:"10px"});e.data("conditionId",t(n).find("input").attr("id").match(/\d+/g)),t(n).css({position:"relative"}).append(e)},createId:function(){return parseInt(t('.form-table:first tr  input[id$="-code"]:last').attr("id").match(/\d+/g))+1}};t(document).ready(function(){e.init()})}(jQuery);