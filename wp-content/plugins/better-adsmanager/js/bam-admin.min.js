String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Better_Ads_Manager_Admin=function(n){"use strict";return{init:function(){Better_Ads_Manager_Admin.responsive_fields(),Better_Ads_Manager_Admin.repeater_smart_label(),Better_Ads_Manager_Admin.smart_label()},responsive_fields:function(){Better_Ads_Manager_Admin.update_responsive_fields(),n('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][type]"], .bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][format]"]').on("change",function(){Better_Ads_Manager_Admin.update_responsive_fields()})},update_responsive_fields:function(){var e=n('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][type]"]:checked').attr("value"),t=n('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][format]"]:checked').attr("value"),a=n('.bf-section[data-id="responsive_options"] .better-ads-table');"amp"==t?n(".responsive-field-container").slideUp():(n(".responsive-field-container").slideDown(),"code"==e?a.addClass("show-sizes"):a.removeClass("show-sizes"))},smart_label:function(){n(".fields-group.better-ads-ad-group-field").on("change",'input[name$="-active"],select[name$="_type"],select[name$="_banner"],select[name$="_campaign"]',function(){Better_Ads_Manager_Admin.update_field_label(n(this).closest(".fields-group.better-ads-ad-group-field"))}).find('select[name$="_type"]').change()},update_field_label:function(e){var t=[],a='<span style="color: #b1b1b1;">[ </span>',n='<span style="color: #b1b1b1;"> ]</span>',i='<span style="color: #9e9e9e;"> '+better_adsmanager_loc.arrow+" </span>",r='<b style="color: red;">',s="</b>",o='<b style="color: green;">',l="</b>",p=better_adsmanager_loc.translation.inactive;void 0!==e.find('input[name$="post_type"]').val()&&t.push(a+e.find('input[name$="post_type"]').val().capitalize()+n);var d=e.find('select[name$="_type"] option:selected').val(),_=e.find('select[name$="_banner"] option:selected').val(),c=e.find('select[name$="_banner"] option:selected').text(),m=e.find('select[name$="_campaign"] option:selected').val(),b=e.find('select[name$="_campaign"] option:selected').text();"banner"===d?(t.push(a+better_adsmanager_loc.translation.banner+n),"none"===_?t.push(a+r+better_adsmanager_loc.translation.in_active_banner+s+n):t.push(a+o+c.replace("[","(").replace("]",")")+l+n)):"campaign"===d&&(t.push(a+better_adsmanager_loc.translation.campaign+n),"none"===m?t.push(a+r+better_adsmanager_loc.translation.in_active_campaign+s+n):t.push(a+o+b+l+n)),1==t.length&&t.push(a+r+p+s+n),e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").length<1&&e.find(".fields-group-title-container .fields-group-title").append('<p class="ad-state-indicator"></p>'),0<t.length?e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").html(t.join(i)):e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").html(a+r+p+s+n)},repeater_smart_label:function(){n(".bf-section.better-ads-repeater-ad-field").on("keyup",'input[name$="[post_type]"],input[name$="[paragraph]"]',function(){Better_Ads_Manager_Admin.update_repeater_field_label(n(this).closest(".bf-repeater-item"))}).on("repeater_item_added",function(){Better_Ads_Manager_Admin.update_repeater_field_label(n(this).find(".bf-repeater-item:last"))}),n(".bf-section.better-ads-repeater-ad-field").on("change",'select[name$="[type]"],select[name$="[banner]"],select[name$="[campaign]"]',function(){Better_Ads_Manager_Admin.update_repeater_field_label(n(this).closest(".bf-repeater-item"))}).find('select[name$="[type]"]').change()},update_repeater_field_label:function(e){var t=[],a='<span style="color: #b1b1b1;">[ </span>',n='<span style="color: #b1b1b1;"> ]</span>',i='<span style="color: #9e9e9e;"> '+better_adsmanager_loc.arrow+" </span>",r='<b style="color: red;">',s="</b>",o='<b style="color: green;">',l="</b>",p=better_adsmanager_loc.translation.inactive;if(void 0!==e.find('input[name$="[post_type]"]').val()&&t.push(a+e.find('input[name$="[post_type]"]').val().capitalize()+n),void 0!==e.find('input[name$="[paragraph]"]').val()){var d=parseInt(e.find('input[name$="[paragraph]"]').val()||0),_=3;d?(1<=d&&d<=3&&(_=d-1),t.push(a+better_adsmanager_loc.translation.after_x_paragraph[_].replace("%s",d)+n)):t.push(a+"-"+n)}var c=e.find('select[name$="[type]"] option:selected').val(),m=e.find('select[name$="[banner]"] option:selected').val(),b=e.find('select[name$="[banner]"] option:selected').text(),f=e.find('select[name$="[campaign]"] option:selected').val(),u=e.find('select[name$="[campaign]"] option:selected').text();"banner"===c?(t.push(a+better_adsmanager_loc.translation.banner+n),"none"===m?t.push(a+r+better_adsmanager_loc.translation.in_active_banner+s+n):t.push(a+o+b.replace("[","(").replace("]",")")+l+n)):"campaign"===c&&(t.push(a+"Campaign"+n),"none"===f?t.push(a+r+better_adsmanager_loc.translation.in_active_campaign+s+n):t.push(a+o+u+l+n)),1==t.length&&t.push(a+r+p+s+n),0<t.length?e.find(".bf-repeater-item-title .handle-repeater-title-label").html(t.join(i)):e.find(".bf-repeater-item-title .handle-repeater-title-label").html(a+r+p+s+n)}}}(jQuery);jQuery(document).ready(function(){Better_Ads_Manager_Admin.init()});